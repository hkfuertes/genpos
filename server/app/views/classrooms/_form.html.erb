<% students = Student.all %>

<%= form_with(model: classroom) do |form| %>
  <% if classroom.errors.any? %>
    <div class="row">
      <div class="col-12">
        <div class="callout callout-danger">
          <h5><%= pluralize(classroom.errors.count, "error") %> prohibited this student from being saved:</h2>
        </h5>
        <ul>
          <% classroom.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    </div>
<% end %>

<div class="row">
  <div class="col-12">
    <div class="card">
    <div class="card-header">
     <div class="card-tools">
          <%= form.submit "Guardar", :class=>"btn btn-outline-dark" %>
    </div>
    </div>
      <div class="card-body">
      <div class="row">
        <div class="col-4">
          <div class="form-group">
            <label for="level">Curso</label>
            <%= form.text_field :level, :class => "form-control", :placeholder => "1º ESO, 2º ESO, ...", :id => "level", :disabled => edit %>
          </div>
        </div>
        <div class="col-2">
        <div class="form-group">
            <label for="letter">Letra</label>
            <%= form.text_field :letter, :class => "form-control", :placeholder => "A, B, ...", :id => "letter", :disabled => edit %>
          </div>
        </div>
        <div class="col-6">
          <div class="form-group">
            <label for="subject">Asignatura</label>
            <%= form.text_field :subject, :class => "form-control", :placeholder => "Física, Matemáticas, Lengua, ...", :id => "subject",  :disabled => edit %>
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-12">
    <div class="card card-body table-responsive p-0"">
     <table class="table table-hover text-nowrap">
          <thead>
            <tr>
              <th>Seleccionar</th>
              <th>ID</th>
              <th>Nombre</th>
              <th>Edad</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <% students.each do |student| %>
              <tr href="<%= student_path(student)%>" class="linkable" style="cursor: pointer;" >
                <td>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox">
                  </div>
                </td>
                <td><%= student.id %></td>
                <td><%= student.name %> <%= student.last_name %></td>
                <td class="d-none d-md-block">~ <%= Date.today.year - student.birthday.year %> años</td>
                <td>
                  <div class="float-right">
                    <a href="<%= student_path(student) %>" class="text-dark"><i class="fas fa-eye"></i></a>
                  </div>
                </td>
              </tr>
            <%end%>
          </tbody>
        </table>
    </div>
  </div>
</div>
<% end %>
